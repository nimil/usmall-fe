# 我的帖子功能测试指南

## 测试环境准备

### 1. 开发环境
- 微信开发者工具
- 小程序项目已正确配置
- 微信云托管服务已部署

### 2. 配置文件
确保 `utils/config.js` 中的配置正确：
```javascript
CLOUD_ENV_ID: 'your-actual-cloud-env-id',
CLOUD_SERVICE_NAME: 'your-actual-service-name'
```

## 测试步骤

### 1. 基础功能测试

#### 1.1 页面跳转测试
1. 打开小程序
2. 进入"我的"页面
3. 点击"我的帖子"菜单项
4. 验证是否成功跳转到我的帖子页面

#### 1.2 未登录状态测试
1. 清除本地存储的用户信息
2. 进入我的帖子页面
3. 验证是否显示"需要登录"提示
4. 点击"去登录"按钮
5. 验证是否跳转到登录页面

#### 1.3 登录后测试
1. 在个人中心完成登录
2. 再次进入我的帖子页面
3. 验证是否正常显示页面内容

### 2. 数据加载测试

#### 2.1 空数据测试
1. 确保用户没有发布过帖子
2. 进入我的帖子页面
3. 验证是否显示"还没有发布过帖子"的空状态
4. 点击"发布帖子"按钮
5. 验证是否跳转到发布页面

#### 2.2 有数据测试
1. 确保用户已发布过帖子
2. 进入我的帖子页面
3. 验证是否显示帖子列表
4. 检查帖子信息是否正确显示：
   - 标题
   - 内容摘要
   - 发布时间
   - 状态（已发布/草稿）
   - 统计信息（浏览量、点赞数、评论数）

### 3. 交互功能测试

#### 3.1 下拉刷新测试
1. 在有数据的页面下拉
2. 验证是否触发刷新
3. 检查数据是否重新加载

#### 3.2 上拉加载更多测试
1. 滚动到页面底部
2. 验证是否自动加载更多数据
3. 检查新数据是否正确追加

#### 3.3 点击帖子测试
1. 点击任意帖子卡片
2. 验证是否跳转到帖子详情页面

#### 3.4 编辑帖子测试
1. 点击帖子卡片上的"编辑"按钮
2. 验证是否跳转到编辑页面
3. 检查URL参数是否正确传递

#### 3.5 删除帖子测试
1. 点击帖子卡片上的"删除"按钮
2. 验证是否显示确认弹窗
3. 点击"取消"，验证弹窗关闭
4. 点击"删除"，验证是否执行删除操作
5. 检查删除后列表是否刷新

### 4. 错误处理测试

#### 4.1 网络错误测试
1. 断开网络连接
2. 进入我的帖子页面
3. 验证是否显示错误提示
4. 恢复网络连接
5. 验证是否自动重试或提示重试

#### 4.2 API错误测试
1. 修改API地址为错误地址
2. 进入我的帖子页面
3. 验证是否显示错误提示

#### 4.3 认证错误测试
1. 使用过期的用户信息
2. 进入我的帖子页面
3. 验证是否自动跳转到登录页面

## 测试检查清单

### 功能检查
- [ ] 页面跳转正常
- [ ] 未登录状态提示正确
- [ ] 登录后数据加载正常
- [ ] 空状态显示正确
- [ ] 帖子列表显示正确
- [ ] 下拉刷新功能正常
- [ ] 上拉加载更多功能正常
- [ ] 点击帖子跳转正常
- [ ] 编辑功能正常
- [ ] 删除功能正常（带确认）
- [ ] 错误处理正确

### UI检查
- [ ] 页面布局美观
- [ ] 文字显示清晰
- [ ] 按钮交互正常
- [ ] 加载状态显示正确
- [ ] 空状态图标显示正确
- [ ] 认证状态显示正确

### 性能检查
- [ ] 页面加载速度正常
- [ ] 图片加载正常
- [ ] 滚动流畅
- [ ] 内存使用合理

## 常见问题排查

### 1. 页面无法跳转
- 检查 `app.json` 中是否正确注册了页面
- 检查页面文件是否完整

### 2. API调用失败
- 检查 `utils/config.js` 配置是否正确
- 检查网络连接是否正常
- 检查云托管服务是否正常运行

### 3. 用户认证失败
- 检查用户是否已正确登录
- 检查本地存储的用户信息是否完整
- 检查后端认证逻辑是否正确

### 4. 数据不显示
- 检查API返回的数据格式是否正确
- 检查页面数据处理逻辑是否正确
- 检查WXML中的数据绑定是否正确

## 调试技巧

### 1. 使用控制台日志
在关键位置添加 `console.log` 进行调试：
```javascript
console.log('用户信息:', userInfo);
console.log('API响应:', result);
console.log('页面数据:', this.data);
```

### 2. 使用微信开发者工具
- 使用 Network 面板查看API请求
- 使用 Storage 面板查看本地存储
- 使用 Console 面板查看日志

### 3. 真机调试
- 在真机上测试用户认证功能
- 测试网络异常情况
- 测试不同机型的兼容性
