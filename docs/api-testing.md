# API测试说明

## 当前配置

### 微信云托管配置
- **环境ID**: `prod-2gbua7ije33985ed`
- **服务名称**: `golang-xhpp`
- **API路径**: `/api/posts`

### 请求参数
```javascript
{
  page: 1,           // 页码
  pageSize: 10,      // 每页数量
  category: 'all',   // 分类
  sort: 'hot'        // 排序方式
}
```

## 测试步骤

### 1. 检查网络连接
确保小程序能够正常访问微信云托管服务。

### 2. 查看控制台日志
在微信开发者工具的控制台中查看API调用日志：
- 成功时会显示：`获取热门推荐调用结果: {code: 200, message: "success", data: {...}}`
- 失败时会显示错误信息

### 3. 测试API响应
期望的响应格式：
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "list": [...],
    "pagination": {
      "current": 1,
      "pageSize": 10,
      "total": 156,
      "hasMore": true
    }
  }
}
```

## 常见问题排查

### 1. 网络错误
- 检查云托管服务是否正常运行
- 确认环境ID和服务名称是否正确
- 检查网络连接

### 2. 权限错误
- 确认小程序已开通云托管功能
- 检查云托管服务的访问权限

### 3. 路径错误
- 确认后端API路径是否为 `/api/posts`
- 检查API参数格式是否正确

### 4. 数据格式错误
- 确认后端返回的数据格式符合预期
- 检查字段名称是否匹配

## 调试建议

1. **开启详细日志**：在控制台查看完整的API调用过程
2. **分步测试**：先测试简单的API调用，再测试复杂功能
3. **数据验证**：确保返回的数据结构正确
4. **错误处理**：添加适当的错误提示和重试机制 